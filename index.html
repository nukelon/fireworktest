<html lang="en">

<head>
	<meta http-equiv="Content-Type"
		content="text/html; charset=UTF-8">
		<script>
			var _czc = _czc || [];
			(function () {
				var um = document.createElement("script");
				um.src = "https://v1.cnzz.com/z.js?id=1281334347&async=1";
				var s = document.getElementsByTagName("script")[0];
				s.parentNode.insertBefore(um, s);
			})();
			</script>
	<title>春节快乐</title>
	<meta name="viewport"
		content="width=device-width, initial-scale=1, user-scalable=no">
	<meta name="mobile-web-app-capable"
		content="yes">
	<meta name="apple-mobile-web-app-capable"
		content="yes">
	<meta name="theme-color"
		content="#000000">
	<link rel="shortcut icon"
		type="image/png"
		href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/firework-burst-icon-v2.png">
	<link rel="icon"
		type="image/png"
		href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/firework-burst-icon-v2.png">
	<link rel="apple-touch-icon-precomposed"
		href="https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/firework-burst-icon-v2.png">
	<meta name="msapplication-TileColor"
		content="#000000">
	<meta name="msapplication-TileImage"
		content="https://s3-us-west-2.amazonaws.com/s.cdpn.io/329180/firework-burst-icon-v2.png">
	<link href="1.css"
		rel="stylesheet">
	<script src="jquery.min.js"
		type="text/javascript"></script>
</head>

<body>

	<audio id="audio_music"
		src="https://sf6-cdn-tos.douyinstatic.com/obj/tos-cn-ve-2774/430d83be45af4abc8b0708691f9cd387"
		preload="auto"
		loop="loop"></audio>

	<!-- 1. 中间层：背景图片层 (z-index: 400) -->
	<div id="newYearBg" style="position:fixed;top:0;left:0;width:100%;height:100%;z-index:400;display:none;opacity:0;transition:opacity 2s ease;background:#000;">
		<img src="2.png" style="width:100%;height:100%;object-fit:cover;display:block;">
	</div>

	<!-- 音频播放器 -->
	<audio id="gift_audio" src="https://lf3-music-east.douyinstatic.com/obj/ies-music-hj/7585134800709684017.mp3" preload="auto"></audio>

	<!-- 右下角透明小球 (z-index: 9000) -->



	<!-- 3. 最高层：轻奢莫兰迪·精致礼盒弹窗 (z-index: 10000) -->
	<div id="giftModal" class="gift-wrapper">
		<div class="gift-mask"></div>
		<div class="gift-card">
			<div class="gift-shine"></div>
			
			<div class="gift-content">
				<!-- SVG 礼物图标 -->
				<div class="gift-svg-container">
					<svg class="gift-svg" viewBox="0 0 1024 1024" xmlns="http://www.w3.org/2000/svg">
						<path d="M880.698823 406.885829l-107.064281 56.009741 0.863163-128.035965-0.287721-0.127876 140.535856-73.528769v127.87612zM914.74584 261.20296l-140.535856 73.528769-150.318379-72.345915 135.324904-70.20399z" fill="#5FCEFF"/>
						<path d="M774.497705 334.859605l-0.863163 128.035965-115.312292 60.357529 1.086947-128.163842-0.287721-0.159845 115.088508-60.197683z" fill="#FF4893"/>
						<path d="M623.891605 262.385814l150.318379 72.345915-115.088508 60.197683-147.441166-74.359964z" fill="#FF4893"/>
						<path d="M644.895258 141.415004l114.321251 50.76682-114.321251-50.76682z" fill="#5FCEFF"/>
						<path d="M759.216509 192.181824l-135.324904 70.20399-114.001561-54.858856 134.14205-66.495582 0.863164 0.383628z" fill="#FF4893"/>
						<path d="M659.409197 395.089257l-1.086947 128.163842-145.938622 76.342043v-127.87612l146.737848-76.78961z" fill="#5FCEFF"/>
						<path d="M659.121476 394.929412l-146.737848 76.78961-145.427117-76.086291 144.723799-75.063283zM644.032094 141.031376l-134.14205 66.495582-133.854329-64.417595 136.347913-60.517374z" fill="#5FCEFF"/>
						<path d="M623.891605 262.385814l-112.211295 58.183634-113.937623-57.448347 112.147357-55.594143z" fill="#FF4893"/>
						<path d="M512.383628 943.230246v-343.635104l145.938622-76.342043v0.255752l115.312292-60.32556v-0.287721l107.064281-56.009741-3.196903 349.581343-365.118292 194.7873-3.420686-1.918142z" fill="#FFB578"/>
						<path d="M512.383628 599.595142v343.635104l-3.420686 6.106084-361.697605-202.971371-3.196903-339.47913 109.302113 57.192595 115.02457 60.197684z" fill="#FFB578"/>
						<path d="M512.383628 471.719022v127.87612l-143.988511-75.319034-1.438606-128.643377z" fill="#5FCEFF"/>
						<path d="M511.68031 320.569448l-144.723799 75.063283-115.056539-60.197684v-0.031969l145.842715-72.281977zM509.890044 207.526958l-112.147357 55.594143-136.667603-68.957197 2.589491-1.182854 112.37114-49.871687z" fill="#FF4893"/>
						<path d="M261.075084 194.163904l136.667603 68.957197-145.842715 72.281977v0.031969l-141.878555-74.232087z" fill="#5FCEFF"/>
						<path d="M366.956511 395.632731l1.438606 128.643377-115.02457-60.197684-1.470575-128.643377z" fill="#FF4893"/>
						<path d="M144.068434 406.885829l-34.047017-17.806749v-127.87612l141.878555 74.232087 1.470575 128.643377z" fill="#5FCEFF"/>
					</svg>
				</div>
				
				<h2 class="gift-title">春节快乐</h2>
				<p class="gift-text">为您精心准备了<br>一份特别的春节礼物</p>
				<button id="gift-btn" onclick="handleGiftModalClose()" class="gift-btn">
					开启礼物
				</button>
			</div>
		</div>
	</div>

	<style>
		.gift-wrapper { position: fixed; top: 0; left: 0; width: 100%; height: 100%; z-index: 10000; display: flex; justify-content: center; align-items: center; font-family: "PingFang SC", "Helvetica Neue", sans-serif; }
		.gift-mask { position: absolute; width: 100%; height: 100%; background: rgba(80,80,80,0.4); backdrop-filter: blur(18px); }
		
		/* 轻奢莫兰迪卡片 - 精简版 */
		.gift-card { 
			position: relative; width: 280px; 
			background: linear-gradient(135deg, #f8f8f8 0%, #e8e4e6 100%); 
			border-radius: 24px; padding: 30px 30px; text-align: center; z-index: 2;
			box-shadow: 0 30px 70px rgba(0,0,0,0.5);
			animation: giftSlideIn 0.8s cubic-bezier(0.16, 1, 0.3, 1);
		}

		/* 柔光特效 */
		.gift-shine {
			position: absolute; top: -50%; left: -50%; width: 200%; height: 200%;
			background: radial-gradient(circle, rgba(255,255,255,0.1) 0%, transparent 70%);
			animation: giftShine 8s ease-in-out infinite;
		}

		.gift-content { position: relative; z-index: 2; }
		
		/* SVG 礼物图标容器 */
		.gift-svg-container {
			width: 90px; height: 90px; margin: 0 auto 15px;
			animation: giftFloat 3s ease-in-out infinite;
		}
		.gift-svg { width: 100%; height: 100%; filter: drop-shadow(0 5px 15px rgba(95,206,255,0.3)); }

		.gift-title { font-size: 24px; font-weight: 700; color: #3a3a3a; margin-bottom: 6px; letter-spacing: 3px; }
		.gift-text { font-size: 14px; color: #7a7a7a; margin-bottom: 25px; line-height: 1.6; letter-spacing: 1px; }

		/* 精致按钮 - 压缩 */
		.gift-btn { 
			width: 100%; background: linear-gradient(135deg, #667eea 0%, #764ba2 100%); 
			color: #fff; border: none; padding: 14px 0; border-radius: 16px; 
			font-size: 15px; font-weight: 600; cursor: pointer; transition: 0.4s;
			box-shadow: 0 12px 30px rgba(102,126,234,0.4);
			letter-spacing: 2px;
		}
		.gift-btn:hover { transform: translateY(-3px) scale(1.02); box-shadow: 0 18px 40px rgba(102,126,234,0.6); }
		.gift-btn:active { transform: translateY(0) scale(1); }

		@keyframes giftSlideIn {
			0% { opacity: 0; transform: translateY(50px) scale(0.9); }
			100% { opacity: 1; transform: translateY(0) scale(1); }
		}
		@keyframes giftFloat {
			0%, 100% { transform: translateY(0); }
			50% { transform: translateY(-15px); }
		}
		@keyframes giftShine {
			0%, 100% { transform: translate(-30%, -30%); }
			50% { transform: translate(30%, 30%); }
		}
		
		/* 强制所有烟花相关容器透明 */
		.container, .stage-container, .canvas-container, 
		.container *, .stage-container *, 
		#bg-warp { 
			z-index: 500 !important; 
			background: transparent !important; 
			background-color: transparent !important; 
		}
		.canvas-container canvas { background: transparent !important; background-color: transparent !important; }

		/* 右下角透明小球样式 */
		.float-balls-container {
			position: fixed; right: 30px; bottom: 30px;
			display: none; flex-direction: column; gap: 15px; z-index: 9000;
		}
		.float-balls-container.show { display: flex; }
		
		.float-ball {
			width: 40px; height: 40px; border-radius: 50%;
			background: rgba(230, 230, 230, 0.7);
			backdrop-filter: blur(10px); -webkit-backdrop-filter: blur(10px);
			border: 2px solid rgba(180, 180, 180, 0.8);
			display: flex; align-items: center; justify-content: center;
			cursor: pointer; text-decoration: none; transition: 0.3s;
			box-shadow: 0 4px 20px rgba(0, 0, 0, 0.25), inset 0 1px 0 rgba(255, 255, 255, 0.5);
		}
		.float-ball span { color: #1a1a1a; font-size: 12px; font-weight: 600; }
		.float-ball:hover {
			background: rgba(230, 230, 230, 0.85);
			border-color: rgba(160, 160, 160, 0.9);
			transform: scale(1.1);
			box-shadow: 0 6px 30px rgba(0, 0, 0, 0.3), inset 0 1px 0 rgba(255, 255, 255, 0.6);
		}
		.float-ball:active { transform: scale(0.95); }

		/* 小球弹跳出现动画 */
		.float-balls-container.show .float-ball {
			animation: ballBounceIn 0.6s cubic-bezier(0.175, 0.885, 0.32, 1.275) forwards;
		}
		.float-balls-container.show .float-ball:nth-child(2) { animation-delay: 0.15s; }

		@keyframes ballBounceIn {
			0% { opacity: 0; transform: scale(0) translateX(100px); }
			60% { opacity: 1; transform: scale(1.15) translateX(0); }
			80% { transform: scale(0.9) translateX(0); }
			100% { opacity: 1; transform: scale(1) translateX(0); }
		}

		@media (max-width: 640px) {
			.float-balls-container { right: 20px; bottom: 20px; gap: 10px; }
		}
	</style>

	<script>
		// 初始化：确保所有容器背景透明
		(function() {
			function initTransparent() {
				var containers = document.querySelectorAll('.container, .stage-container, .canvas-container');
				containers.forEach(function(el) {
					el.style.backgroundColor = 'transparent';
				});
				var canvases = document.querySelectorAll('canvas');
				canvases.forEach(function(el) {
					el.style.backgroundColor = 'transparent';
				});
			}
			if (document.readyState === 'loading') {
				document.addEventListener('DOMContentLoaded', initTransparent);
			} else {
				initTransparent();
			}
			setTimeout(initTransparent, 100);
		})();

		function handleGiftModalClose() {
			var modal = document.getElementById('giftModal');
			var bg = document.getElementById('newYearBg');
			var audio = document.getElementById('gift_audio');
			var floatBalls = document.getElementById('floatBalls');

			window.isImageBackground = true;

			// 立即强制所有容器保持透明
			var containers = document.querySelectorAll('.container, .stage-container, .canvas-container');
			containers.forEach(function(el) {
				el.style.backgroundColor = 'transparent';
			});

			// 立即显示背景图片层（但透明度为0），利用它的黑色背景覆盖下层，避免闪白
			if (bg) {
				bg.style.display = 'block';
			}

			// 像揭开序幕一样消失
			modal.style.transition = 'all 0.8s cubic-bezier(0.22, 1, 0.36, 1)';
			modal.style.opacity = '0';
			modal.style.transform = 'translateY(-30px) scale(1.02)';
			setTimeout(() => modal.remove(), 800);

			// 0.8秒后显示右下角小球（在弹窗完全消失后）
			setTimeout(() => {
				if (floatBalls) {
					floatBalls.classList.add('show');
				}
			}, 800);

			// 立即开始：将 html 和 body 背景从淡灰白过渡到黑色
			document.documentElement.style.transition = 'background-color 1s ease';
			document.documentElement.style.backgroundColor = '#000';
			document.body.style.transition = 'background-color 1s ease';
			document.body.style.backgroundColor = '#000';

			// 0.5秒后开始让背景图片渐显
			setTimeout(() => {
				if (bg) {
					setTimeout(() => bg.style.opacity = '1', 100);
				}
			}, 500);

			// 1秒后播放音频
			setTimeout(() => {
				if (audio) audio.play().catch(e => console.log('音频播放需要用户交互'));
			}, 1000);

			// 2.5秒后启动烟花
			setTimeout(() => {
				// 取消暂停状态，启动烟花系统
				if (typeof togglePause === 'function') {
					togglePause(false);
				}
				
				if (typeof updateConfig === 'function') {
					updateConfig({ autoLaunch: true, hideControls: true });
				}
				
				if (typeof launchShellFromConfig === 'function') {
					for(let i=0; i<8; i++) setTimeout(launchShellFromConfig, i * 250);
				}
			}, 2500);
		}
	</script>

	<div style="height: 0; width: 0; position: absolute; visibility: hidden;">
		<svg xmlns="http://www.w3.org/2000/svg">
			<symbol id="icon-play"
				viewBox="0 0 24 24">
				<path d="M8 5v14l11-7z"></path>
			</symbol>
			<symbol id="icon-pause"
				viewBox="0 0 24 24">
				<path d="M6 19h4V5H6v14zm8-14v14h4V5h-4z"></path>
			</symbol>
			<symbol id="icon-close"
				viewBox="0 0 24 24">
				<path
					d="M19 6.41L17.59 5 12 10.59 6.41 5 5 6.41 10.59 12 5 17.59 6.41 19 12 13.41 17.59 19 19 17.59 13.41 12z">
				</path>
			</symbol>
			<symbol id="icon-settings"
				viewBox="0 0 24 24">
				<path
					d="M19.43 12.98c.04-.32.07-.64.07-.98s-.03-.66-.07-.98l2.11-1.65c.19-.15.24-.42.12-.64l-2-3.46c-.12-.22-.39-.3-.61-.22l-2.49 1c-.52-.4-1.08-.73-1.69-.98l-.38-2.65C14.46 2.18 14.25 2 14 2h-4c-.25 0-.46.18-.49.42l-.38 2.65c-.61.25-1.17.59-1.69.98l-2.49-1c-.23-.09-.49 0-.61.22l-2 3.46c-.13.22-.07.49.12.64l2.11 1.65c-.04.32-.07.65-.07.98s.03.66.07.98l-2.11 1.65c-.19.15-.24.42-.12.64l2 3.46c.12.22.39.3.61.22l2.49-1c.52.4 1.08.73 1.69.98l.38 2.65c.03.24.24.42.49.42h4c.25 0 .46-.18.49-.42l.38-2.65c.61-.25 1.17-.59 1.69-.98l2.49 1c.23.09.49 0 .61-.22l2-3.46c.12-.22.07-.49-.12-.64l-2.11-1.65zM12 15.5c-1.93 0-3.5-1.57-3.5-3.5s1.57-3.5 3.5-3.5 3.5 1.57 3.5 3.5-1.57 3.5-3.5 3.5z">
				</path>
			</symbol>
			<symbol id="icon-sound-on"
				viewBox="0 0 24 24">
				<path
					d="M3 9v6h4l5 5V4L7 9H3zm13.5 3c0-1.77-1.02-3.29-2.5-4.03v8.05c1.48-.73 2.5-2.25 2.5-4.02zM14 3.23v2.06c2.89.86 5 3.54 5 6.71s-2.11 5.85-5 6.71v2.06c4.01-.91 7-4.49 7-8.77s-2.99-7.86-7-8.77z">
				</path>
			</symbol>
			<symbol id="icon-sound-off"
				viewBox="0 0 24 24">
				<path
					d="M16.5 12c0-1.77-1.02-3.29-2.5-4.03v2.21l2.45 2.45c.03-.2.05-.41.05-.63zm2.5 0c0 .94-.2 1.82-.54 2.64l1.51 1.51C20.63 14.91 21 13.5 21 12c0-4.28-2.99-7.86-7-8.77v2.06c2.89.86 5 3.54 5 6.71zM4.27 3L3 4.27 7.73 9H3v6h4l5 5v-6.73l4.25 4.25c-.67.52-1.42.93-2.25 1.18v2.06c1.38-.31 2.63-.95 3.69-1.81L19.73 21 21 19.73l-9-9L4.27 3zM12 4L9.91 6.09 12 8.18V4z">
				</path>
			</symbol>
		</svg>
	</div>

	<!-- App -->
	<div class="container">
		<div id="bg-warp"></div>
		<div class="stage-container"
			style="width: 1440px; height: 307px;">
			<div class="page_two hide">
				<div id="text"
					style="display:none;">往事清零爱恨随意，2024希望你活的开心，不用回头不再将就，过去所有的遗憾都是2024的惊喜，遇见你都是天意，拥有你都是幸运2024，愿自己有能力爱你！



					世界这么大而我真正想落脚的地方是你的身旁
					如果你是三
					那我一定是九你知道为什么吗?
					因为我除了你还是你</div>
				<div class="type_words"
					id="contents"
					style="font-size:1.2rem;line-height:1.5rem;"></div>
			</div>
			<div class="canvas-container"
				style="background-color: transparent;">
				<canvas id="trails-canvas"
					width="2880"
					height="614"
					style="touch-action: none; width: 1440px; height: 307px;"></canvas>
				<canvas id="main-canvas"
					width="2880"
					height="614"
					style="touch-action: none; width: 1440px; height: 307px;"></canvas>
			</div>

			<div class="menu hide">
				<div class="menu__inner-wrap"
					style="opacity: 1;">
					<div class="btn btn--bright close-menu-btn">
						<svg fill="white"
							width="24"
							height="24">
							<use href="#icon-close"
								xlink:href="#icon-close"></use>
						</svg>
					</div>

					<div class="menu__header">设置</div>

					<form>
						<div class="form-option form-option--select">
							<label class="shell-type-label">烟花类型</label>
							<select class="shell-type">
								<option value="Random">Random</option>
								<option value="Crackle">Crackle</option>
								<option value="Crossette">Crossette</option>
								<option value="Crysanthemum">Crysanthemum</option>
								<option value="Falling Leaves">Falling Leaves</option>
								<option value="Floral">Floral</option>
								<option value="Ghost">Ghost</option>
								<option value="Horse Tail">Horse Tail</option>
								<option value="Palm">Palm</option>
								<option value="Ring">Ring</option>
								<option value="Strobe">Strobe</option>
								<option value="Willow">Willow</option>
							</select>
						</div>
						<div class="form-option form-option--select">
							<label class="shell-size-label">烟花大小</label>
							<select class="shell-size">
								<option value="0">3"</option>
								<option value="1">4"</option>
								<option value="2">6"</option>
								<option value="3">8"</option>
								<option value="4">12"</option>
								<option value="5">16"</option>
							</select>
						</div>
						<div class="form-option form-option--select">
							<label class="quality-ui-label">画质</label>
							<select class="quality-ui">
								<option value="1">低</option>
								<option value="2">正常</option>
								<option value="3">高</option>
							</select>
						</div>
						<div class="form-option form-option--select">
							<label class="sky-lighting-label">天空照明</label>
							<select class="sky-lighting">
								<option value="0">无</option>
								<option value="1">暗淡</option>
								<option value="2">正常</option>
							</select>
						</div>
						<div class="form-option form-option--select">
							<label class="scaleFactor-label">规模</label>
							<select class="scaleFactor">
								<option value="0.50">50%</option>
								<option value="0.62">62%</option>
								<option value="0.75">75%</option>
								<option value="0.90">90%</option>
								<option value="1.00">100%</option>
								<option value="1.50">150%</option>
								<option value="2.00">200%</option>
							</select>
						</div>
						<div class="form-option form-option--checkbox">
							<label class="auto-launch-label">自动发射</label>
							<input class="auto-launch"
								type="checkbox">
						</div>
						<div class="form-option form-option--checkbox form-option--finale-mode">
							<label class="finale-mode-label">结局模式</label>
							<input class="finale-mode"
								type="checkbox">
						</div>
						<div class="form-option form-option--checkbox">
							<label class="hide-controls-label">隐藏控制器</label>
							<input class="hide-controls"
								type="checkbox">
						</div>
						<div class="form-option form-option--checkbox form-option--fullscreen">
							<label class="fullscreen-label">全屏</label>
							<input class="fullscreen"
								type="checkbox">
						</div>
						<div class="form-option form-option--checkbox">
							<label class="long-exposure-label">打开快门</label>
							<input class="long-exposure"
								type="checkbox">
						</div>
					</form>

				</div>
			</div>
		</div>
		<div class="help-modal">
			<div class="help-modal__overlay"></div>
			<div class="help-modal__dialog">
				<div class="help-modal__header"></div>
				<div class="help-modal__body"></div>
				<button type="button"
					class="help-modal__close-btn">关闭</button>
			</div>
		</div>
	</div>

	<!-- partial -->
	<script src="2.js"></script>
	<script src="3.js"></script>
	<script src="script.js"></script>
	<script>
		const MyMath = (function MyMathFactory(Math) {

			const MyMath = {};


			// degree/radian conversion constants
			MyMath.toDeg = 180 / Math.PI;
			MyMath.toRad = Math.PI / 180;
			MyMath.halfPI = Math.PI / 2;
			MyMath.twoPI = Math.PI * 2;

			// Pythagorean Theorem distance calculation
			MyMath.dist = (width, height) => {
				return Math.sqrt(width * width + height * height);
			};

			// Pythagorean Theorem point distance calculation
			// Same as above, but takes coordinates instead of dimensions.
			MyMath.pointDist = (x1, y1, x2, y2) => {
				const distX = x2 - x1;
				const distY = y2 - y1;
				return Math.sqrt(distX * distX + distY * distY);
			};

			// Returns the angle (in radians) of a 2D vector
			MyMath.angle = (width, height) => (MyMath.halfPI + Math.atan2(height, width));

			// Returns the angle (in radians) between two points
			// Same as above, but takes coordinates instead of dimensions.
			MyMath.pointAngle = (x1, y1, x2, y2) => (MyMath.halfPI + Math.atan2(y2 - y1, x2 - x1));

			// Splits a speed vector into x and y components (angle needs to be in radians)
			MyMath.splitVector = (speed, angle) => ({
				x: Math.sin(angle) * speed,
				y: -Math.cos(angle) * speed
			});

			// Generates a random number between min (inclusive) and max (exclusive)
			MyMath.random = (min, max) => Math.random() * (max - min) + min;

			// Generates a random integer between and possibly including min and max values
			MyMath.randomInt = (min, max) => ((Math.random() * (max - min + 1)) | 0) + min;

			// Returns a random element from an array, or simply the set of provided arguments when called
			MyMath.randomChoice = function randomChoice(choices) {
				if (arguments.length === 1 && Array.isArray(choices)) {
					return choices[(Math.random() * choices.length) | 0];
				}
				return arguments[(Math.random() * arguments.length) | 0];
			};

			// Clamps a number between min and max values
			MyMath.clamp = function clamp(num, min, max) {
				return Math.min(Math.max(num, min), max);
			};


			return MyMath;

		})(Math);</script>



	<script>

		const res = JSON.parse(localStorage.getItem('templateDate'));

		var id = "282593";
		var data_type = "1";



		if (res.data.backgroundImg) {
			$("#main-canvas").css('background', "url('" + res.data.backgroundImg + "') repeat");
			$("#main-canvas").css('background-size', "100%");
			$("#main-canvas").css('opacity', res.data.opacity ? res.data.opacity/100 : 0);
		}

		function musicPlay(isPlay) {
			var media = document.querySelector('#audio_music');
			if (isPlay && media.paused) {
				media.play();
			}
			if (!isPlay && !media.paused) {
				media.pause();
			}
		}
		function musicInBrowserHandler() {
			setTimeout(function () {
				musicPlay(true)
			}, 0)
		}
		function fireworks() {
			$('.page_one').addClass('hide');
			$('.page_two').removeClass('hide');
		}
		function timeOut(){
		    var starttime = new Date(res.data.mainTitle);
            setInterval(function () {
                var nowtime = new Date();
                var time = starttime - nowtime;
                var day = parseInt(time / 1000 / 60 / 60 / 24);
                var hour = parseInt(time / 1000 / 60 / 60 % 24);
                var minute = parseInt(time / 1000 / 60 % 60);
                var seconds = parseInt(time / 1000 % 60);
        
                var syday =day + "天" + hour + "小时" + minute + "分钟" //+ seconds + "秒";

                $(".sydate").html(syday);
        
            }, 1000);
		}
		
		function start() {

			let str = res.data.content.replaceAll('\n', '#');//"ʸᵒᵘ ᵃʳᵉ ᵗʰᵉ ᵒⁿˡʸ ᵇᵉˢᵗ ᶠᵒʳ ᵐᵉ.<br><br>于我而言，你是最好且是唯一"
			if(res.data.skip == 2){
			    var starttime = new Date(res.data.mainTitle);
                var nowtime = new Date();
                var time = starttime - nowtime;
                var day = parseInt(time / 1000 / 60 / 60 / 24);
                var hour = parseInt(time / 1000 / 60 / 60 % 24);
                var minute = parseInt(time / 1000 / 60 % 60);
                var seconds = parseInt(time / 1000 % 60);
                var sydate =day + "天" + hour + "小时" + minute + "分钟"//+ seconds + "秒";
			    str = res.data.nextContent.replaceAll('倒计时还有', '倒计时还有@' + sydate + '^') + '#' + str
			}
			console.log('1111')
			console.log(str)
			let temp = str.split('#')
			let tempArr = []
			
			temp.map(item=>{
			    console.log(item)
			    item = item.replace(' ', '  ')
			    console.log(item)
			    tempArr.push(item)
			})
			console.log(tempArr)
			str = tempArr.join('#')
			console.log(str)
			let str_ = ''
			let i = 0
			let content = document.getElementById('contents')
			let timer = setInterval(() => {
				if (i < str.length) {
					let temp = str[i++]
					if (temp == '#') {
						str_ += '<br/>'
					} else if(temp == '@'){
					    str_ += '<span class="sydate">'
					} else if(temp == '^'){
					    str_ += '</span>'
					} else if(temp == ' '){
					    str_ += '&nbsp;'
					} else { 
						str_ += temp
					}
					content.innerHTML = '<p>' + str_ + '<span class="xx" style="opacity: 1;    color: red;">❤️</span></p>'                        //打印时加光标
				// 	let arr = content.innerHTML.split(' ')
				// 	content.innerHTML = arr.join('&nbsp;')
				    if(temp == '^'){
				        timeOut();
				    }
				} else {
					clearInterval(timer)
					content.innerHTML = '<p>' + str_ + '</p>'
				// 	let arr = content.innerHTML.split(' ')
				// 	content.innerHTML = arr.join('&nbsp;')
				}
			}, 100)
		}

		$(function () {
			$.get("/api/readOnce?id=282593&type=" + data_type);
		});
	</script>



</body>

</html>